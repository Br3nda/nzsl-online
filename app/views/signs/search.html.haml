%h1.search_results_container.small-12.text-center
  = @results_total
  = t('search.results.for')
  &ldquo;#{display_search_term}&rdquo;

.search_results
  /with divs because of IE7
  %ol.grid
    - @signs.in_groups_of(4) do |row|
      .row_start
        - row.each do |result|
          - if result
            %li
              - if @query[:s]
                - query_text = @query[:s].join(" ")
              - else
                - query_text = " "
              %video.search_result_video.normal{controls: true, preload: true, loop: true}
                %source{type: "video/mp4", src:  result.video}
              = link_to sign_url(result.id), {:class => 'main_gloss js-ga-link-submission', onclick: "_gaq.push(['_trackEvent', 'Search', 'Click', '#{query_text}-#{result.id}', #{@signs.find_index(result)  + 1}]);"} do
                = result.gloss_main
              - if result.gloss_maori
                %span.h3.maori_gloss= result.gloss_maori
              - if result.gloss_secondary.present?
                %span.h3.secondary_gloss= result.gloss_secondary
              - if result.word_classes.present?
                %span.word_class= result.word_classes
              .link_and_drawing_container
                = link_to "Learn more >", sign_url(result.id), {class: "show_link"}
                = link_to sign_url(result.id), {:class => 'drawing grid_drawing js-ga-link-submission', onclick: "_gaq.push(['_trackEvent', 'Search', 'Click', '#{query_text}-#{result.id}', #{@signs.find_index(result)  + 1}]);"} do
                  = image_tag "signs/150-100/#{result.drawing}"
- if @results_total > Sign::RESULTS_PER_PAGE
  %ol.pagination.clearfix_left
    = pagination_links
